create table asignacion_servicio (nombre_usuario_rpr varchar(255) not null, id_servicio integer not null, primary key (nombre_usuario_rpr, id_servicio)) ENGINE=InnoDB;
create table canton (id_canton integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), nombre varchar(255), primary key (id_canton)) ENGINE=InnoDB;
create table cargo (id_cargo integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), nombre varchar(255), primary key (id_cargo)) ENGINE=InnoDB;
create table dosimetro_asignado (id_dosimetro integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), activo bit not null, numero_dosimetro integer not null, id_tipo_dosimetro integer not null, id_toe integer not null, primary key (id_dosimetro)) ENGINE=InnoDB;
create table encargado_ccss (nombre_usuario varchar(255) not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), correo_electronico varchar(255), activo bit not null, nombre varchar(255) not null, apellido varchar(255) not null, lastLogin datetime(6), loginCount integer not null, password varchar(255) not null, telefono varchar(255), reset_password bit not null, actualizar_datos bit, primary key (nombre_usuario)) ENGINE=InnoDB;
create table encargado_servicio (nombre_usuario varchar(255) not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), correo_electronico varchar(255), activo bit not null, nombre varchar(255) not null, apellido varchar(255) not null, lastLogin datetime(6), loginCount integer not null, password varchar(255) not null, telefono varchar(255), reset_password bit not null, actualizar_datos bit, primary key (nombre_usuario)) ENGINE=InnoDB;
create table equipo (id_equipo integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), descripcion varchar(255), primary key (id_equipo)) ENGINE=InnoDB;
create table hospital (id_hospital integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), activo bit, nombre_hospital varchar(255), privado bit, primary key (id_hospital)) ENGINE=InnoDB;
create table lectura_equipo (id_lectura integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), numero_dosimetro integer not null, dosis_acumulada_HP007 varchar(255), dosis_anual_HP007 varchar(255), dosis_HP007 varchar(255), lectura_equipo_HP007 varchar(255), dosis_acumulada_HP10 varchar(255), dosis_anual_HP10 varchar(255), dosis_HP10 varchar(255), lectura_equipo_HP10 varchar(255), dosis_acumulada_HP3 varchar(255), dosis_anual_HP3 varchar(255), dosis_HP3 varchar(255), id_tipo_dosimetro integer not null, id_periodo integer not null, id_toe integer not null, primary key (id_lectura)) ENGINE=InnoDB;
create table periodo (id_periodo integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), periodo_completo bit, fecha_lectura_dosimetros datetime(6), fecha_recepcion_dosimetros datetime(6), fecha_final datetime(6), tipo_periodo integer, fecha_inicio datetime(6), id_servicio integer, primary key (id_periodo)) ENGINE=InnoDB;
create table practica (id_practica integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), nombre varchar(255), primary key (id_practica)) ENGINE=InnoDB;
create table provincia (id_provincia integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), nombre varchar(255), primary key (id_provincia)) ENGINE=InnoDB;
create table sector (id_sector integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), nombre varchar(255), primary key (id_sector)) ENGINE=InnoDB;
create table servicio (id_servicio integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), activo bit, direccion varchar(255), director varchar(255), cedula varchar(255), nombre varchar(255), telefono varchar(255), privado bit, responsable varchar(255), canton integer, id_hospital integer, provincia integer, sector integer, primary key (id_servicio)) ENGINE=InnoDB;
create table supervision_hospital_ccss (nombre_usuario_ccss varchar(255) not null, id_hospital integer not null, primary key (nombre_usuario_ccss, id_hospital)) ENGINE=InnoDB;
create table tipo_dosimetro (id_tipo_dosimetro integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), tipo_dosimetro varchar(255), inicial varchar(255), primary key (id_tipo_dosimetro)) ENGINE=InnoDB;
create table toe (id_toe integer not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), dosis_acumulada_hp007 varchar(255), dosis_acumulada_hp10 varchar(255), dosis_acumulada_hp3 varchar(255), activo bit, fecha_nacimiento datetime(6), pais varchar(255), fecha_desactividad datetime(6), cedula varchar(255), sexo char(1), fecha_inicio datetime(6), id_tipo_dosimetro integer, id_servicio integer, id_cargo integer, id_practica integer, primary key (id_toe)) ENGINE=InnoDB;
create table usuario_cicanum (nombre_usuario varchar(255) not null, entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), correo_electronico varchar(255), activo bit not null, nombre varchar(255) not null, apellido varchar(255) not null, lastLogin datetime(6), loginCount integer not null, password varchar(255) not null, telefono varchar(255), reset_password bit not null, actualizar_datos bit, puede_firmar bit, grupo integer, iniciales varchar(255), primary key (nombre_usuario)) ENGINE=InnoDB;
create table variable_programa (entity_creation_timestamp datetime(6), last_updated_timestamp datetime(6), tasa_diaria varchar(255), tasa_diaria_hp007 varchar(255), min varchar(255), min_hp007 varchar(255), tc varchar(255), tc_hp007 varchar(255), id_equipo integer not null, id_tipo_dosimetro integer not null, primary key (id_equipo, id_tipo_dosimetro)) ENGINE=InnoDB;
alter table dosimetro_asignado add constraint UK_mmn59o1phubfa6my1khrjb396 unique (numero_dosimetro, id_tipo_dosimetro, id_toe);
alter table asignacion_servicio add constraint FK_DE558315006AE97A2C8C11E327B4DB48 foreign key (id_servicio) references servicio (id_servicio);
alter table asignacion_servicio add constraint FK_0DD5DCC4C9FCD222FEFB42CB4CC6C53E foreign key (nombre_usuario_rpr) references encargado_servicio (nombre_usuario);
alter table dosimetro_asignado add constraint FK_DC21532A164CB5A1D2F11466F7DEA3BB foreign key (id_tipo_dosimetro) references tipo_dosimetro (id_tipo_dosimetro);
alter table dosimetro_asignado add constraint FK_3692E4B80F7237E492CE760880CC175D foreign key (id_toe) references toe (id_toe);
alter table lectura_equipo add constraint FK_BE8DC45FDDD365CCAF14BAD7AEDD00DB foreign key (id_tipo_dosimetro) references tipo_dosimetro (id_tipo_dosimetro);
alter table lectura_equipo add constraint FK_3100643A03F10AAEACEEF5650E6DEFDE foreign key (id_periodo) references periodo (id_periodo);
alter table lectura_equipo add constraint FK_541521F1553002A2F84E852477C6306C foreign key (id_toe) references toe (id_toe);
alter table periodo add constraint FK_477E05B27E0C87E784A25115F3169E5E foreign key (id_servicio) references servicio (id_servicio);
alter table servicio add constraint FK_EC592A0EF57D6DAE58498C52B9B6DC34 foreign key (canton) references canton (id_canton);
alter table servicio add constraint FK_1BA71ACB40DC31D5705D92A2EFC3DB76 foreign key (id_hospital) references hospital (id_hospital);
alter table servicio add constraint FK_3E1C43FC2B157EB889A7C1EAAF62459F foreign key (provincia) references provincia (id_provincia);
alter table servicio add constraint FK_637C930D0D4E1B51F5334443C2D3A7EC foreign key (sector) references sector (id_sector);
alter table supervision_hospital_ccss add constraint FK_3BC51FA75E134CDB7A86E7AD34820295 foreign key (id_hospital) references hospital (id_hospital);
alter table supervision_hospital_ccss add constraint FK_58D896E6B64CB63E2B55838728480438 foreign key (nombre_usuario_ccss) references encargado_ccss (nombre_usuario);
alter table toe add constraint FK_F57618BD70C80CB24968BAC48B49A6AF foreign key (id_tipo_dosimetro) references tipo_dosimetro (id_tipo_dosimetro);
alter table toe add constraint FK_E0D3AFA5ED778EAE3A3EE20BF264F4F8 foreign key (id_servicio) references servicio (id_servicio);
alter table toe add constraint FK_2E43F57188A624DC0D72D12136073FDB foreign key (id_cargo) references cargo (id_cargo);
alter table toe add constraint FK_E01CF5A67F5A3FB4E7BAFC70F20847A7 foreign key (id_practica) references practica (id_practica);
alter table variable_programa add constraint FK_8BF77EDB311B158CDFCBD7AAE220DD13 foreign key (id_equipo) references equipo (id_equipo);
alter table variable_programa add constraint FK_D30E35036CBA1FC907B31A2DDE5081E0 foreign key (id_tipo_dosimetro) references tipo_dosimetro (id_tipo_dosimetro);